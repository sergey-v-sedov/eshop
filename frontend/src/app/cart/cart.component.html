<h1>Your cart</h1>
<div class="storefront" *ngFor="let cartItem of cartItems">
    <mat-card class="card">
        <mat-card-header>
            <div mat-card-avatar class="example-header-image"></div>
            <mat-card-title>{{products.get(cartItem.productId)?.title}}</mat-card-title>
            <mat-card-subtitle>Price:&nbsp;{{products.get(cartItem.productId)?.price}}&nbsp;EUR</mat-card-subtitle>
        </mat-card-header>
        <img mat-card-sm-image src="{{products.get(cartItem.productId)?.image}}"/>
        <mat-card-actions>
            <button mat-button (click)="remove(cartItem)"><mat-icon>remove_shopping_cart</mat-icon>Remove</button>
        </mat-card-actions>
    </mat-card>
</div>
<div class="order-form" *ngIf="cartItems.size > 0">
    <h2>Make order</h2>
    <div class="example-container">
        <mat-form-field class="login-form-field">
            <mat-label>Enter your credit card number</mat-label>
            <input matInput [formControl]="creditCard" required>
            <mat-error *ngIf="creditCard.invalid">{{getCreditCardErrorMessage()}}</mat-error>
        </mat-form-field>
        <br>
        <mat-form-field class="login-form-field">
            <mat-label>Enter your shipping address</mat-label>
            <input matInput [formControl]="shippingAddress" required>
            <mat-error *ngIf="shippingAddress.invalid">{{getShippingAddressErrorMessage()}}</mat-error>
        </mat-form-field>
        <br>
        <button mat-raised-button color="primary" (click)="order()">Order</button>
    </div>
</div>
<div *ngIf="cartItems.size == 0">
    <p>Your cart is empty</p>
    <button mat-button color="primary" routerLink="/storefront"><mat-icon>add_shopping_cart</mat-icon>Storefront</button>
</div>
<br>
<p>{{message}}</p>